<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/StyleFerias.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
    crossorigin="anonymous"></script>
    <title>Document</title>
</head>
<body>
  <nav class="navbar navbar-expand-lg static-top">
    <div class="container">
      <a class="navbar-brand" href="#">
        <img src="../img/logo-fcyt.png" class="logoFcyt" alt="...">
      </a>
      <div class="collapse navbar-collapse text-light" id="navbarSupportedContent">
        <ul class="navbar-nav ">
          <li class="nav-item dropdown col-3">
            <a class="nav-link dropdown text-light " href="../html/index.html" id="navbarDropdown" role="button"
              data-bs-toggle="dropdown" aria-expanded="false">
              INICIO
            </a>
          </li>
          <li class="nav-item dropdown col-3">
            <a class="nav-link dropdown text-light" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
              ADMISION
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="#">Examen</a></li>
              <li><a class="dropdown-item" href="#">Curso Propedeutico</a></li>
              <li><a class="dropdown-item" href="#">Conocimiento</a></li>
              <li><a class="dropdown-item" href="../html/Banco.html">Banco de Preguntas</a></li>
              <li><a class="dropdown-item" href="#">Resultados</a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li><a class="dropdown-item" href="#">Inscripcion</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown col-3">
            <a class="nav-link dropdown text-light" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
              PREGRADO
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="#">Nuestras Carreras</a></li>
              <li><a class="dropdown-item" href="#">Modalidad de graduacion</a></li>
              <li><a class="dropdown-item" href="#">Curso de Invierno</a></li>
              <li><a class="dropdown-item" href="#">Curso de Verano</a></li>
              <li>
                <hr class="dropdown-divider">
              </li>
              <li><a class="dropdown-item" href="#">Tramites</a></li>
            </ul>
          </li>
          <li class="nav-item dropdown col-3">
            <a class="nav-link dropdown text-light" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
              POSGRADO
            </a>
          </li>
          <li class="nav-item dropdown col-3">
            <a class="nav-link dropdown text-light" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
              INVESTIGACION
            </a>
          </li>
          <li class="nav-item dropdown col-3">
            <a class="nav-link dropdown text-light q q" href="#" id="navbarDropdown" role="button"
              data-bs-toggle="dropdown" aria-expanded="false">
              CONTACTO
            </a>
          </li>
          <li class="nav-item dropdown col-3">
            <a class="nav-link dropdown text-light" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
              EXTENSIONES
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="../html/Talleres.html">Talleres</a></li>
              <li><a class="dropdown-item" href="../html/Convocatoria.html">Convocatorias</a></li>
              <li><a class="dropdown-item" href="../html/Ferias.html">Ferias</a></li>
          </li>
        </ul>
      </div>
    </div>
  </nav>
    

<div class="container mt-5">
    <h1 class="titulo">Ferias</h1>
    <br>
    <div class="input-group mb-3">
      <input type="text" id="formulario" placeholder="Buscar..." class="form-control" placeholder="Buscar...">
      <button  class="btn btnBuscar" id="boton">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
          <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
        </svg>
      </button>
    </div>
    <select onchange="autocompletar()" id="select" class="form-select" multiple aria-label="multiple select example" style="display: none">
     
    </select> 
    <div id="resultado" class="cardz row row-cols-1 row-cols-md-3" >
    </div>
</div>
</div>
    <script> 
          const Convocatorias=[
            {nombre:'Profesiografica',imagen:'../img/Feria1.jpg',descripcion:'Te invitamos a ser parte de la feria profesiografica de la Universidad Mayor de SanSimon',id:1},
            {nombre:'Oferta de Servicio',imagen:'../img/Feriax.jpg',descripcion:'Feria sobre oferta de servicios no te lo puedes perder',id:2},
            {nombre:'Ciencias',imagen:'../img/Feriay.png',descripcion:'Feria de Ciencias animate a ser parte sin ningun costo',id:3},
            {nombre:'Investigacion',imagen:'../img/Feria6.jpg',descripcion:'Feria con enfoque de investigacion no te lo puedes perder',id:4},
            {nombre:'Skyline',imagen:'../img/Feria1.jpeg',descripcion:'Feria virtual de skyline animate a ser parte',id:5},
            {nombre:'Ingenieria',imagen:'../img/feriaf.jpg',descripcion:'Feria de ingenieria no te lo puedes perder!',id:6}
     ]

     const formulario=document.querySelector('#formulario');
        const select=document.querySelector('#select');
        const boton = document.querySelector('#boton');
        const resultado= document.querySelector('#resultado');
        var busquedas=[];
        var convocatorias = [];

        function eliminarDuplicados(busquedas, busqueda) {
          const indice = busquedas.indexOf(busqueda);
          if (indice > -1) { 
            console.log("Encontro duplicao")
            busquedas.splice(indice, 1);
            return indice
          }
          return -1
          
        }

        var mostrar=()=>{
          resultado.innerHTML='';
            for(let producto of Convocatorias){
                let nombre = producto.nombre.toLowerCase();
                resultado.innerHTML+=`
                <div id="${producto.id}" class="col mb-4">
                  <div class="card h-100">
                    <img class="card-img-top" src="${producto.imagen}" alt="Card image cap">
                    <div class="card-body">
                      <h5 class="card-title">${producto.nombre}</h5>
                      <p class="card-text">${producto.descripcion}</p>
                      <div class="card-footer text-muted">
                      <a type="submit" class="btn btnCard" name="B1"  href="${producto.imagen}" download="${producto.nombre}">
                      <svg xmlns="http://www.w3.org/2000/svg" width="19" height="20" fill="currentColor" class="bi bi-download"
                        viewBox="0 0 16 16">
                        <path
                          d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z" />
                        <path
                          d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z" />
                      </svg>
                      Descargar</a>
                    </div>
                    </div>
                  </div>
                </div>
                  `;
            }
            if(resultado.innerHTML=== ''){
                resultado.innerHTML+=`
                <li>Feria no encontrada</li>
                `
            }

        }
        const filtrar=()=>{
          document.getElementById("select").style.display = "none"
            resultado.innerHTML='';
            for(var i=0;i<busquedas.length;i++){
              document.getElementById("op"+i).remove();
            }
            const texto=formulario.value.toLowerCase();
            console.log(busquedas.includes(texto));
            var indiceEliminado = eliminarDuplicados(busquedas,texto);
            busquedas.push(texto);
            console.log(busquedas);
            
            for(var i=0;i<busquedas.length;i++){

              select.innerHTML+=`
              <option id="${"op"+i}">${busquedas[i]}</option>
                `;
            }
            for(let producto of Convocatorias){
                let nombre = producto.nombre.toLowerCase();
                if (nombre.indexOf(texto)!== -1){
                  resultado.innerHTML+=`
                <div id="${producto.id}" class="col mb-4">
                  <div class="card h-100">
                    <img class="card-img-top" src="${producto.imagen}" alt="Card image cap">
                    <div class="card-body">
                      <h5 class="card-title">${producto.nombre}</h5>
                      <p class="card-text">${producto.descripcion}</p>
                      <div class="card-footer text-muted">
                      <a type="submit" class="btn btnCard" name="B1"  href="${producto.imagen}" download="${producto.nombre}">
                      <svg xmlns="http://www.w3.org/2000/svg" width="19" height="20" fill="currentColor" class="bi bi-download"
                        viewBox="0 0 16 16">
                        <path
                          d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z" />
                        <path
                          d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z" />
                      </svg>
                      Descargar</a>
                    </div>
                    </div>
                  </div>
                </div>
                  `;
                }
            }
            if(resultado.innerHTML=== ''){
                resultado.innerHTML+=`
                <li>Convocatoria no encontrada</li>
                `
            }
        }

        const mostrarSelect = ()=>{
          const texto=formulario.value.toLowerCase();
          for(var i=0;i<convocatorias.length;i++){
              document.getElementById("conv"+i).remove();
          }
          convocatorias = []
          document.getElementById("select").style.display = "block";
          for(let producto of Convocatorias){
                let nombre = producto.nombre.toLowerCase();
                if (nombre.indexOf(texto)!== -1){
                  convocatorias.push(producto.nombre);
                }
          }
          for(var i=0;i<convocatorias.length;i++){
            select.innerHTML+=`
            <option id="${"conv"+i}">${convocatorias[i]}</option>
              `;
          }
        }

        const autocompletar =()=>{
          var optionSelected = document.getElementById("select").value;
          console.log(optionSelected);
          document.getElementById("formulario").value = optionSelected;
          document.getElementById("select").style.display = "none";
        }
        document.getElementById("formulario").addEventListener("keyup", function(e) {
            if (e.code === 'Enter') {
                document.getElementById("boton").click();
            }
        });
        boton.addEventListener('click',filtrar);
        document.getElementById("formulario").addEventListener('input',mostrarSelect)
        mostrar();
    </script>
</body>
</html> 